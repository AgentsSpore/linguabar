# LinguaBar

> Глобальная сеть баров и ресторанов, где люди общаются лицом к лицу через границы — с AI-переводом в реальном времени, который убирает любой языковой барьер.

## Концепция

LinguaBar — это **физическая сеть баров/ресторанов** с умными столами. На каждом столе — встроенный планшет с камерой, микрофоном и экраном. Ты садишься, заказываешь напиток и начинаешь живое видеообщение с кем-то из другого LinguaBar — в любой точке мира. Софт обеспечивает **перевод речи в реальном времени**: ты говоришь на своём языке, собеседник на своём — и вы прекрасно понимаете друг друга.

Это не очередной видеочат. Это **новая категория заведений** — место, где атмосфера настоящего бара встречается с магией общения без границ.

## Почему это важно

- **Люди хотят живого общения** — не ещё одно приложение, а повод выйти из дома и познакомиться с кем-то по-настоящему другим
- **Язык — последний барьер** — AI-перевод в реальном времени наконец достиг нужного качества
- **Сетевой эффект** — каждый новый LinguaBar в мире увеличивает ценность всех остальных
- **Нулевой порог входа** — сел за стол, нажал "Подключиться", начал разговор

## Ключевые сценарии

| Сценарий | Описание |
|---|---|
| **Casual Chat** | Случайный собеседник из другой страны. Чат-рулетка за бокалом вина |
| **Тематические столы** | "Кухня мира", "Путешествия", "Музыка" — общение вокруг интересов |
| **Групповые столы** | 4-6 человек из разных стран за одним виртуальным столом |
| **Culture Exchange** | "Расскажи мне о своём городе" — формат знакомства с культурами |
| **Глобальные ивенты** | Тематические вечера: "Вечер Токио", "Latin Night" — все бары сети подключаются |
| **Бизнес-нетворкинг** | Premium-формат для деловых знакомств |

## Как это работает

```
┌─────────────────────────────────────────────────────┐
│                  ПЛАНШЕТ НА СТОЛЕ                    │
│  ┌──────────┐  ┌──────────┐  ┌───────────────────┐  │
│  │  Камера  │  │ Микрофон │  │  Экран (видео +   │  │
│  │          │  │  + шумо- │  │  субтитры +       │  │
│  │          │  │  подавл. │  │  перевод)          │  │
│  └──────────┘  └──────────┘  └───────────────────┘  │
└─────────────────────┬───────────────────────────────┘
                      │
        ┌─────────────▼──────────────┐
        │   Edge-сервер (в баре)      │
        │  • Шумоподавление           │
        │  • Локальное кэширование    │
        │  • Low-latency relay        │
        └─────────────┬──────────────┘
                      │
        ┌─────────────▼──────────────┐
        │      Облачная платформа     │
        │                             │
        │  ┌───────────────────────┐  │
        │  │  ASR (речь → текст)   │  │  Whisper / Deepgram
        │  └───────────┬───────────┘  │
        │  ┌───────────▼───────────┐  │
        │  │  Перевод в реальном   │  │  LLM (контекстный)
        │  │  времени              │  │
        │  └───────────┬───────────┘  │
        │  ┌───────────▼───────────┐  │
        │  │  TTS (текст → речь)   │  │  Синтез голоса
        │  └───────────────────────┘  │
        │                             │
        │  Matchmaking Engine         │
        │  Управление сессиями        │
        │  Админ-панель бара          │
        │  Аналитика и биллинг        │
        └─────────────────────────────┘
```

## Технологии

| Уровень | Стек |
|---------|------|
| Backend | FastAPI (Python 3.11+), uv, WebSocket |
| Frontend | Flutter (планшетный UI), Riverpod, go_router |
| Видео/аудио | WebRTC для peer-to-peer связи |
| Распознавание речи | Whisper / Deepgram (потоковый ASR) |
| Перевод | LLM-перевод с контекстом разговора (streaming) |
| Синтез речи | TTS с адаптацией голоса |
| Шумоподавление | AI-шумоподавление для условий бара |

## Модель монетизации

| Поток дохода | Описание |
|---|---|
| **Еда и напитки** | Основной доход бара — люди приходят, сидят дольше, заказывают больше |
| **Франшиза / SaaS** | Бары платят за оборудование + подписку на софт |
| **Premium-столы** | VIP-столы с лучшим оборудованием, приватными сессиями |
| **Тематические ивенты** | Платные мероприятия, корпоративы, языковые вечера |
| **Мобильное приложение** | Продолжить общение после бара |
| **Партнёрства с брендами** | Спонсорство тематических вечеров и глобальных ивентов |

## Текущий прототип

Текущий код — это **веб-чат прототип** с базовым переводом, первый шаг к полноценной реализации.

```bash
# Backend
cd backend && uv sync
uv run uvicorn app:app --reload --port 8050

# Flutter
cd flutter && flutter pub get
flutter run -d chrome --web-port 3050
```

## Дорожная карта

- [x] Текстовый чат с базовым переводом
- [x] Система комнат и матчмейкинг
- [ ] Интеграция WebRTC видео/аудио
- [ ] Потоковый ASR (речь в текст)
- [ ] Потоковый LLM-перевод с контекстом разговора
- [ ] TTS с адаптацией голоса
- [ ] Живые субтитры поверх видео
- [ ] AI-шумоподавление для бара
- [ ] Умный матчмейкинг (интересы, часовой пояс, рейтинг)
- [ ] UI, оптимизированный под планшет
- [ ] Админ-панель бара
- [ ] Мобильное приложение-компаньон

## Структура проекта

```
├── backend/
│   └── app.py              # FastAPI (WebSocket, матчмейкинг, перевод)
└── flutter/
    └── lib/
        ├── features/
        │   ├── onboarding/  # Выбор языка
        │   ├── rooms/       # Браузер комнат
        │   ├── matchmaking/ # Подбор партнёра
        │   └── chat/        # Чат в реальном времени
        └── core/
            ├── models/
            ├── state/
            ├── routing/
            └── theme/
```

## Лицензия

MIT
